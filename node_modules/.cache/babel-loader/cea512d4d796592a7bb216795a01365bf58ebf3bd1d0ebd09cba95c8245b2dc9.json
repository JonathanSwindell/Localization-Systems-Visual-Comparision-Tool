{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tqd0002/Documents/GitHub/TelemetryVisualization/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tqd0002/Documents/GitHub/TelemetryVisualization/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tqd0002/Documents/GitHub/TelemetryVisualization/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,Fragment}from\"react\";import classes from'./Header.module.css';import backgroundImage from'../../assets/background.jpg';import HeaderCartButton from\"./HeaderCartButton\";import HeaderInput from\"./HeaderInput\";import Papa from\"papaparse\";import{UserContext}from\"../../store/cart-context\";// Allowed extensions for input file\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var allowedExtensions=[\"csv\"];var Header=function Header(props){// This state will store the parsed data\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];// It state will contain the error when\n// correct file extension is not used\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];// It will store the file uploaded by the user\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];// This function will be called when\n// the file input changes\nvar handleFileChange=function handleFileChange(e){setError(\"\");// Check if user has entered the file\nif(e.target.files.length){var inputFile=e.target.files[0];// Check the file extensions, if it not\n// included in the allowed extensions\n// we show the error\nvar fileExtension=inputFile===null||inputFile===void 0?void 0:inputFile.type.split(\"/\")[1];if(!allowedExtensions.includes(fileExtension)){setError(\"Please input a csv file\");return;}// If input type is correct set the state\nsetFile(inputFile);}};var handleParse=function handleParse(){// If user clicks the parse button without\n// a file we show a error\nif(!file)return setError(\"Enter a valid file\");// Initialize a reader which allows user\n// to read any file or blob.\nvar reader=new FileReader();// Event listener on reader when the file\n// loads, we parse it and set the data.\nreader.onload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var target,csv,parsedData,columns;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:target=_ref.target;csv=Papa.parse(target.result,{header:true});parsedData=csv===null||csv===void 0?void 0:csv.data;columns=Object.keys(parsedData[0]);setData(parsedData);console.log(columns);console.log(parsedData);console.log(csv===null||csv===void 0?void 0:csv.data);case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();reader.readAsText(file);};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:classes.header,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Localization System Visualization Comparison Tool\"}),/*#__PURE__*/_jsx(HeaderCartButton,{onClick:handleParse}),/*#__PURE__*/_jsx(HeaderInput,{onChange:handleFileChange,id:\"csvInput\",name:\"file\",type:\"File\",overflow:\"hidden\"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes['main-image'],children:/*#__PURE__*/_jsx(\"img\",{src:backgroundImage,alt:\"Localization data\"})})]});};export default Header;","map":{"version":3,"names":["React","useState","Fragment","classes","backgroundImage","HeaderCartButton","HeaderInput","Papa","UserContext","jsx","_jsx","jsxs","_jsxs","allowedExtensions","Header","props","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","error","setError","_useState5","_useState6","file","setFile","handleFileChange","e","target","files","length","inputFile","fileExtension","type","split","includes","handleParse","reader","FileReader","onload","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","csv","parsedData","columns","wrap","_callee$","_context","prev","next","parse","result","header","Object","keys","console","log","stop","_x","apply","arguments","readAsText","children","className","onClick","onChange","id","name","overflow","src","alt"],"sources":["/Users/tqd0002/Documents/GitHub/TelemetryVisualization/src/components/Layout/Header.js"],"sourcesContent":["import React, { useState, Fragment } from \"react\";\r\nimport classes from './Header.module.css';\r\nimport backgroundImage from '../../assets/background.jpg';\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\nimport HeaderInput from \"./HeaderInput\";\r\nimport Papa from \"papaparse\";\r\nimport { UserContext } from \"../../store/cart-context\"\r\n \r\n// Allowed extensions for input file\r\nconst allowedExtensions = [\"csv\"];\r\n\r\nconst Header = (props) => {\r\n        // This state will store the parsed data\r\n    const [data, setData] = useState([]);\r\n        \r\n    // It state will contain the error when\r\n    // correct file extension is not used\r\n    const [error, setError] = useState(\"\");\r\n    \r\n    // It will store the file uploaded by the user\r\n    const [file, setFile] = useState(\"\");\r\n\r\n    \r\n   // This function will be called when\r\n    // the file input changes\r\n    const handleFileChange = (e) => {\r\n        setError(\"\");\r\n         \r\n        // Check if user has entered the file\r\n        if (e.target.files.length) {\r\n            const inputFile = e.target.files[0];\r\n             \r\n            // Check the file extensions, if it not\r\n            // included in the allowed extensions\r\n            // we show the error\r\n            const fileExtension = inputFile?.type.split(\"/\")[1];\r\n            if (!allowedExtensions.includes(fileExtension)) {\r\n                setError(\"Please input a csv file\");\r\n                return;\r\n            }\r\n            // If input type is correct set the state\r\n            setFile(inputFile);\r\n        }\r\n    };\r\n    \r\nconst handleParse = () => {\r\n         \r\n    // If user clicks the parse button without\r\n    // a file we show a error\r\n    if (!file) return setError(\"Enter a valid file\");\r\n\r\n    // Initialize a reader which allows user\r\n    // to read any file or blob.\r\n    const reader = new FileReader();\r\n     \r\n    // Event listener on reader when the file\r\n    // loads, we parse it and set the data.\r\n    reader.onload = async ({ target }) => {\r\n        const csv = Papa.parse(target.result, { header: true });\r\n        const parsedData = csv?.data;\r\n        const columns = Object.keys(parsedData[0]);\r\n        setData(parsedData);\r\n\r\n        console.log(columns)\r\n        console.log(parsedData)    \r\n        console.log(csv?.data)\r\n    };\r\n    reader.readAsText(file);\r\n};\r\n\r\n\r\n    return <Fragment>\r\n        <header className={classes.header}>\r\n            <h1>Localization System Visualization Comparison Tool</h1>\r\n            <HeaderCartButton onClick={handleParse} />\r\n            <HeaderInput\r\n                onChange={handleFileChange}\r\n                id=\"csvInput\"\r\n                name=\"file\"\r\n                type=\"File\"\r\n                overflow=\"hidden\"\r\n            />\r\n        </header>\r\n        <div className={classes['main-image']}>\r\n            <img src={backgroundImage} alt=\"Localization data\"/>\r\n        </div>\r\n    </Fragment>\r\n};\r\n\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}