{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tqd0002/Documents/GitHub/TelemetryVisualization/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tqd0002/Documents/GitHub/TelemetryVisualization/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tqd0002/Documents/GitHub/TelemetryVisualization/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,Fragment}from\"react\";import classes from'./Header.module.css';import backgroundImage from'../../assets/background.jpg';import HeaderCartButton from\"./HeaderCartButton\";import HeaderInput from\"./HeaderInput\";import Papa from\"papaparse\";import{UserContext}from\"../../store/cart-context\";// Allowed extensions for input file\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var allowedExtensions=[\"csv\"];var Header=function Header(props){// This state will store the parsed data\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];// It state will contain the error when\n// correct file extension is not used\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];// It will store the file uploaded by the user\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];// This function will be called when\n// the file input changes\nvar handleFileChange=function handleFileChange(e){setError(\"\");// Check if user has entered the file\nif(e.target.files.length){var inputFile=e.target.files[0];// Check the file extensions, if it not\n// included in the allowed extensions\n// we show the error\nvar fileExtension=inputFile===null||inputFile===void 0?void 0:inputFile.type.split(\"/\")[1];if(!allowedExtensions.includes(fileExtension)){setError(\"Please input a csv file\");return;}// If input type is correct set the state\nsetFile(inputFile);}};var handleParse=function handleParse(){// If user clicks the parse button without\n// a file we show a error\nif(!file)return setError(\"Enter a valid file\");// Initialize a reader which allows user\n// to read any file or blob.\nvar reader=new FileReader();// Event listener on reader when the file\n// loads, we parse it and set the data.\nreader.onload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var target,csv,parsedData,columns;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:target=_ref.target;csv=Papa.parse(target.result,{header:true});parsedData=csv===null||csv===void 0?void 0:csv.data;columns=Object.keys(parsedData[0]);setData(parsedData);console.log(columns);console.log(parsedData);console.log(csv===null||csv===void 0?void 0:csv.data);case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();reader.readAsText(file);};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:classes.header,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Localization System Visualization Comparison Tool\"}),/*#__PURE__*/_jsx(HeaderCartButton,{onClick:handleParse}),/*#__PURE__*/_jsx(HeaderInput,{onChange:handleFileChange,id:\"csvInput\",name:\"file\",type:\"File\",overflow:\"hidden\"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes['main-image'],children:/*#__PURE__*/_jsx(\"img\",{src:backgroundImage,alt:\"Localization data\"})})]});};export default Header;","map":{"version":3,"names":["React","useState","Fragment","classes","backgroundImage","HeaderCartButton","HeaderInput","Papa","UserContext","allowedExtensions","Header","props","data","setData","error","setError","file","setFile","handleFileChange","e","target","files","length","inputFile","fileExtension","type","split","includes","handleParse","reader","FileReader","onload","csv","parse","result","header","parsedData","columns","Object","keys","console","log","readAsText"],"sources":["/Users/tqd0002/Documents/GitHub/TelemetryVisualization/src/components/Layout/Header.js"],"sourcesContent":["import React, { useState, Fragment } from \"react\";\r\nimport classes from './Header.module.css';\r\nimport backgroundImage from '../../assets/background.jpg';\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\nimport HeaderInput from \"./HeaderInput\";\r\nimport Papa from \"papaparse\";\r\nimport { UserContext } from \"../../store/cart-context\"\r\n \r\n// Allowed extensions for input file\r\nconst allowedExtensions = [\"csv\"];\r\n\r\nconst Header = (props) => {\r\n        // This state will store the parsed data\r\n    const [data, setData] = useState([]);\r\n        \r\n    // It state will contain the error when\r\n    // correct file extension is not used\r\n    const [error, setError] = useState(\"\");\r\n    \r\n    // It will store the file uploaded by the user\r\n    const [file, setFile] = useState(\"\");\r\n\r\n    \r\n   // This function will be called when\r\n    // the file input changes\r\n    const handleFileChange = (e) => {\r\n        setError(\"\");\r\n         \r\n        // Check if user has entered the file\r\n        if (e.target.files.length) {\r\n            const inputFile = e.target.files[0];\r\n             \r\n            // Check the file extensions, if it not\r\n            // included in the allowed extensions\r\n            // we show the error\r\n            const fileExtension = inputFile?.type.split(\"/\")[1];\r\n            if (!allowedExtensions.includes(fileExtension)) {\r\n                setError(\"Please input a csv file\");\r\n                return;\r\n            }\r\n            // If input type is correct set the state\r\n            setFile(inputFile);\r\n        }\r\n    };\r\n    \r\nconst handleParse = () => {\r\n         \r\n    // If user clicks the parse button without\r\n    // a file we show a error\r\n    if (!file) return setError(\"Enter a valid file\");\r\n\r\n    // Initialize a reader which allows user\r\n    // to read any file or blob.\r\n    const reader = new FileReader();\r\n     \r\n    // Event listener on reader when the file\r\n    // loads, we parse it and set the data.\r\n    reader.onload = async ({ target }) => {\r\n        const csv = Papa.parse(target.result, { header: true });\r\n        const parsedData = csv?.data;\r\n        const columns = Object.keys(parsedData[0]);\r\n        setData(parsedData);\r\n\r\n        console.log(columns)\r\n        console.log(parsedData)    \r\n        console.log(csv?.data)\r\n    };\r\n    reader.readAsText(file);\r\n};\r\n\r\n\r\n    return <Fragment>\r\n        <header className={classes.header}>\r\n            <h1>Localization System Visualization Comparison Tool</h1>\r\n            <HeaderCartButton onClick={handleParse} />\r\n            <HeaderInput\r\n                onChange={handleFileChange}\r\n                id=\"csvInput\"\r\n                name=\"file\"\r\n                type=\"File\"\r\n                overflow=\"hidden\"\r\n            />\r\n        </header>\r\n        <div className={classes['main-image']}>\r\n            <img src={backgroundImage} alt=\"Localization data\"/>\r\n        </div>\r\n    </Fragment>\r\n};\r\n\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module"}